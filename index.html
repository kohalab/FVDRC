<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feedback Voltage Divider Resistor Calculator</title>
    <script>
        'use strict';
        function addlog(str) {
            let e = document.getElementsByClassName("log")[0];
            let date = new Date();
            str = date.toLocaleString() + "&nbsp;&nbsp;" + str;
            e.innerHTML = str + "<br>" + e.innerHTML;
        }

        function decode_value(str) {
            /* extract numbers and "." from the beginning of a line */
            let num = (str.match(/[\d|\.]*/));
            /* If there is no input, it is assumed to be 0 */
            if(num == "" || num == null) {
                num = "0";
            }
            num = parseFloat(num);
            /* extract the alphabet at the end of a line */
            let unit = str.match(/[a-zA-Z]*$/);

            switch (String(unit)) {
                case null:
                case "":
                    return num;
                    break;
                case "k":
                case "K":
                    return num * 1000;
                    break;
                case "M":
                    return num * 1000000;
                    break;
                case "G":
                case "g":
                    return num * 1000000000;
                    break;
                case "T":
                case "t":
                    return num * 1000000000000;
                    break;
                case "P":
                    return num * 1000000000000000;
                    break;
                case "m":
                    return num / 1000;
                    break;
                case "u":
                case "μ":
                case "µ":
                    return num / 1000000;
                    break;
                case "n":
                    return num / 1000000000;
                    break;
                case "p":
                    return num / 1000000000000;
                    break;
                case "f":
                    return num / 1000000000000000;
                    break;
            }
            return null;
        }

        function encode_value(num) {
            /* calculate number of digits / 3 */
            let digit = Math.log10(num) / 3;
            digit = Math.floor(digit);
            /* normalize by dividing by the number of digits */
            /* (e.g. 1=divide by 1000, 2=divide by 1000000) */
            let normalized_num = num / Math.pow(10, digit * 3);
            /* Convert to string with limited precision of decimal point and */
            /* remove zeros and "." at the end of the line */
            normalized_num = String(normalized_num.toPrecision(5)).replace(/0*$/, "").replace(/\.$/, "");
            switch (digit) {
                case 0:
                    return normalized_num + "";
                    break;
                case 1:
                    return normalized_num + "k";
                    break;
                case 2:
                    return normalized_num + "M";
                    break;
                case 3:
                    return normalized_num + "G";
                    break;
                case 4:
                    return normalized_num + "T";
                    break;
                case 5:
                    return normalized_num + "P";
                    break;
                case -1:
                    return normalized_num + "m";
                    break;
                case -2:
                    return normalized_num + "u";
                    break;
                case -3:
                    return normalized_num + "n";
                    break;
                case -4:
                    return normalized_num + "p";
                    break;
                case -5:
                    return normalized_num + "f";
                    break;
                default:
                    return num;
            }
        }

        const E3_list = [1, 2.2, 4.7];
        const E6_list = [1, 1.5, 2.2, 3.3, 4.7, 6.8];
        const E12_list = [1, 1.2, 1.5, 1.8, 2.2, 2.7, 3.3, 3.9, 4.7, 5.6, 6.8, 8.2];
        const E24_list = [1, 1.1, 1.2, 1.3, 1.5, 1.6, 1.8, 2, 2.2, 2.4, 2.7, 3, 3.3, 3.6, 3.9, 4.3, 4.7, 5.1, 5.6, 6.2, 6.8, 7.5, 8.2, 9.1];
        const E48_list = [1, 1.1, 1.21, 1.33, 1.47, 1.62, 1.78, 1.96, 2.15, 2.37, 2.61, 2.87, 3.16, 3.48, 3.83, 4.22, 4.64, 5.11, 5.62, 6.19, 6.81, 7.5, 8.25, 9.09, 1.05, 1.15, 1.27, 1.4, 1.54, 1.69, 1.87, 2.05, 2.26, 2.49, 2.74, 3.01, 3.32, 3.65, 4.02, 4.42, 4.87, 5.36, 5.9, 6.49, 7.15, 7.87, 8.66, 9.53];
        const E96_list = [1, 1.1, 1.21, 1.33, 1.47, 1.62, 1.78, 1.96, 2.15, 2.37, 2.61, 2.87, 3.16, 3.48, 3.83, 4.22, 4.64, 5.11, 5.62, 6.19, 6.81, 7.5, 8.25, 9.09, 1.02, 1.13, 1.24, 1.37, 1.5, 1.65, 1.82, 2, 2.21, 2.43, 2.67, 2.94, 3.24, 3.57, 3.92, 4.32, 4.75, 5.23, 5.76, 6.34, 6.98, 7.68, 8.45, 9.31, 1.05, 1.15, 1.27, 1.4, 1.54, 1.69, 1.87, 2.05, 2.26, 2.49, 2.74, 3.01, 3.32, 3.65, 4.02, 4.42, 4.87, 5.36, 5.9, 6.49, 7.15, 7.87, 8.66, 9.53, 1.07, 1.18, 1.3, 1.43, 1.58, 1.74, 1.91, 2.1, 2.32, 2.55, 2.8, 3.09, 3.4, 3.74, 4.12, 4.53, 4.99, 5.49, 6.04, 6.65, 7.32, 8.06, 8.87, 9.76];

        function round_list(num, list) {
            /* calculate number of digits */
            let digit = Math.log10(num);
            digit = Math.floor(digit);
            /* normalize by dividing by the number of digits */
            let normalized_num = num / Math.pow(10, digit);
            let error = 100;
            let result = 0;
            for (let i = 0; i < list.length; i++) {
                if(Math.abs(list[i] - normalized_num) < error) {
                    error = Math.abs(list[i] - normalized_num);
                    result = list[i] * Math.pow(10, digit);
                }
            }
            return result;
        }

        function calc_r2form() {
            const input_query = ".R2form .input "
            const output_query = ".R2form .output "
            let Vref_in = document.querySelector(input_query + "#Vref");
            let R1_in = document.querySelector(input_query + "#R1");
            let R2_in = document.querySelector(input_query + "#R2");
            let R12_in = document.querySelector(input_query + "#R12");
            let R22_in = document.querySelector(input_query + "#R22");
            let Vout_in = document.querySelector(input_query + "#Vout");
            let series_in = document.querySelector(input_query + "#series");

            let Vref_out = document.querySelector(output_query + "#Vref");
            let R1_out = document.querySelector(output_query + "#R1");
            let R2_out = document.querySelector(output_query + "#R2");
            let Vout_out = document.querySelector(output_query + "#Vout");
            let Ir1_out = document.querySelector(output_query + "#Ir1");

            let Vref = decode_value(Vref_in.value);
            let R1 = decode_value(R1_in.value);
            let R2 = decode_value(R2_in.value);
            let R12 = decode_value(R12_in.value);
            let R22 = decode_value(R22_in.value);
            let Vout = decode_value(Vout_in.value);
            let Ir1 = 0;
            if(R12 > 0) {
                R1 = 1 / ((1 / R1) + (1 / R12));
            }
            if(R22 > 0) {
                R2 = 1 / ((1 / R2) + (1 / R22));
            }

            let list = null;

            switch(String(series_in.value)) {
                case "E3":
                    list = E3_list;
                    break;
                case "E6":
                    list = E6_list;
                    break;
                case "E12":
                    list = E12_list;
                    break;
                case "E24":
                    list = E24_list;
                    break;
                case "E48":
                    list = E48_list;
                    break;
                case "E96":
                    list = E96_list;
                    break;
            }

            if(Vref == null) {
                Vref_in.classList.add("error");
            } else {
                Vref_in.classList.remove("error");
            }
            if(R1 == null) {
                R1_in.classList.add("error");
            } else {
                R1_in.classList.remove("error");
            }
            if(R2 == null) {
                R2_in.classList.add("error");
            } else {
                R2_in.classList.remove("error");
            }
            if(Vout == null) {
                Vout_in.classList.add("error");
            } else {
                Vout_in.classList.remove("error");
            }

            R2 = R1 / ((Vout / Vref) - 1);
            if(list != null) {
                R2 = round_list(R2, list);
            }
            Vout = Vref * (1 + (R1 / R2));
            Ir1 = Vout / (R1 + R2);

            Vref_out.value = encode_value(Vref);
            R1_out.value = encode_value(R1);
            R2_out.value = encode_value(R2);
            Vout_out.value = encode_value(Vout);
            Ir1_out.value = encode_value(Ir1);
        }

        function calc_r1form() {
            const input_query = ".R1form .input "
            const output_query = ".R1form .output "
            let Vref_in = document.querySelector(input_query + "#Vref");
            let R1_in = document.querySelector(input_query + "#R1");
            let R2_in = document.querySelector(input_query + "#R2");
            let R12_in = document.querySelector(input_query + "#R12");
            let R22_in = document.querySelector(input_query + "#R22");
            let Vout_in = document.querySelector(input_query + "#Vout");
            let series_in = document.querySelector(input_query + "#series");

            let Vref_out = document.querySelector(output_query + "#Vref");
            let R1_out = document.querySelector(output_query + "#R1");
            let R2_out = document.querySelector(output_query + "#R2");
            let Vout_out = document.querySelector(output_query + "#Vout");
            let Ir1_out = document.querySelector(output_query + "#Ir1");

            let Vref = decode_value(Vref_in.value);
            let R1 = decode_value(R1_in.value);
            let R2 = decode_value(R2_in.value);
            let R12 = decode_value(R12_in.value);
            let R22 = decode_value(R22_in.value);
            let Vout = decode_value(Vout_in.value);
            let Ir1 = 0;
            if(R12 > 0) {
                R1 = 1 / ((1 / R1) + (1 / R12));
            }
            if(R22 > 0) {
                R2 = 1 / ((1 / R2) + (1 / R22));
            }

            let list = null;

            switch(String(series_in.value)) {
                case "E3":
                    list = E3_list;
                    break;
                case "E6":
                    list = E6_list;
                    break;
                case "E12":
                    list = E12_list;
                    break;
                case "E24":
                    list = E24_list;
                    break;
                case "E48":
                    list = E48_list;
                    break;
                case "E96":
                    list = E96_list;
                    break;
            }

            if(Vref == null) {
                Vref_in.classList.add("error");
            } else {
                Vref_in.classList.remove("error");
            }
            if(R1 == null) {
                R1_in.classList.add("error");
            } else {
                R1_in.classList.remove("error");
            }
            if(R2 == null) {
                R2_in.classList.add("error");
            } else {
                R2_in.classList.remove("error");
            }
            if(Vout == null) {
                Vout_in.classList.add("error");
            } else {
                Vout_in.classList.remove("error");
            }

            R1 = R2 * ((Vout / Vref) - 1);
            if(list != null) {
                R1 = round_list(R1, list);
            }
            Vout = Vref * (1 + (R1 / R2));
            Ir1 = Vout / (R1 + R2);

            Vref_out.value = encode_value(Vref);
            R1_out.value = encode_value(R1);
            R2_out.value = encode_value(R2);
            Vout_out.value = encode_value(Vout);
            Ir1_out.value = encode_value(Ir1);
        }

        function calc_voutform() {
            const input_query = ".Voutform .input "
            const output_query = ".Voutform .output "
            let Vref_in = document.querySelector(input_query + "#Vref");
            let R1_in = document.querySelector(input_query + "#R1");
            let R2_in = document.querySelector(input_query + "#R2");
            let R12_in = document.querySelector(input_query + "#R12");
            let R22_in = document.querySelector(input_query + "#R22");
            let Vout_in = document.querySelector(input_query + "#Vout");

            let Vref_out = document.querySelector(output_query + "#Vref");
            let R1_out = document.querySelector(output_query + "#R1");
            let R2_out = document.querySelector(output_query + "#R2");
            let Vout_out = document.querySelector(output_query + "#Vout");
            let Ir1_out = document.querySelector(output_query + "#Ir1");

            let Vref = decode_value(Vref_in.value);
            let R1 = decode_value(R1_in.value);
            let R2 = decode_value(R2_in.value);
            let R12 = decode_value(R12_in.value);
            let R22 = decode_value(R22_in.value);
            let Vout = decode_value(Vout_in.value);
            let Ir1 = 0;
            if(R12 > 0) {
                R1 = 1 / ((1 / R1) + (1 / R12));
            }
            if(R22 > 0) {
                R2 = 1 / ((1 / R2) + (1 / R22));
            }

            if(Vref == null) {
                Vref_in.classList.add("error");
            } else {
                Vref_in.classList.remove("error");
            }
            if(R1 == null) {
                R1_in.classList.add("error");
            } else {
                R1_in.classList.remove("error");
            }
            if(R2 == null) {
                R2_in.classList.add("error");
            } else {
                R2_in.classList.remove("error");
            }
            if(Vout == null) {
                Vout_in.classList.add("error");
            } else {
                Vout_in.classList.remove("error");
            }

            Vout = Vref * (1 + (R1 / R2));
            Ir1 = Vout / (R1 + R2);

            Vref_out.value = encode_value(Vref);
            R1_out.value = encode_value(R1);
            R2_out.value = encode_value(R2);
            Vout_out.value = encode_value(Vout);
            Ir1_out.value = encode_value(Ir1);
        }

        function calc_eroundform() {
            const input_query = ".Eroundform .input "
            const output_query = ".Eroundform .output "
            let R1_in = document.querySelector(input_query + "#R1");
            let R2_in = document.querySelector(input_query + "#R2");
            let series_in = document.querySelector(input_query + "#series");

            let R1_out = document.querySelector(output_query + "#R1");
            let R2_out = document.querySelector(output_query + "#R2");

            let R1e_out = document.querySelector(output_query + "#R1e");
            let R2e_out = document.querySelector(output_query + "#R2e");

            let R1 = decode_value(R1_in.value);
            let R2 = decode_value(R2_in.value);

            if(R1 == null) {
                R1_in.classList.add("error");
            } else {
                R1_in.classList.remove("error");
            }
            if(R2 == null) {
                R2_in.classList.add("error");
            } else {
                R2_in.classList.remove("error");
            }

            let list = null;

            switch(String(series_in.value)) {
                case "E3":
                    list = E3_list;
                    break;
                case "E6":
                    list = E6_list;
                    break;
                case "E12":
                    list = E12_list;
                    break;
                case "E24":
                    list = E24_list;
                    break;
                case "E48":
                    list = E48_list;
                    break;
                case "E96":
                    list = E96_list;
                    break;
            }

            let R1r = R1;
            let R2r = R2;
            if(list != null) {
                R1r = round_list(R1, list);
                R2r = round_list(R2, list);
            }
            let R1e = ((R1r - R1) / R1) * 100;
            let R2e = ((R2r - R2) / R2) * 100;
            R1 = R1r;
            R2 = R2r;

            R1_out.value = encode_value(R1);
            R2_out.value = encode_value(R2);
            R1e_out.value = String(R1e.toPrecision(2)).replace(/0*$/, "").replace(/\.$/, "");
            R2e_out.value = String(R2e.toPrecision(2)).replace(/0*$/, "").replace(/\.$/, "");
        }

        function calc_vrefform() {
            const input_query = ".Vrefform .input "
            const output_query = ".Vrefform .output "
            let Vref_in = document.querySelector(input_query + "#Vref");
            let R1_in = document.querySelector(input_query + "#R1");
            let R2_in = document.querySelector(input_query + "#R2");
            let R12_in = document.querySelector(input_query + "#R12");
            let R22_in = document.querySelector(input_query + "#R22");
            let Vout_in = document.querySelector(input_query + "#Vout");

            let Vref_out = document.querySelector(output_query + "#Vref");
            let R1_out = document.querySelector(output_query + "#R1");
            let R2_out = document.querySelector(output_query + "#R2");
            let Vout_out = document.querySelector(output_query + "#Vout");
            let Ir1_out = document.querySelector(output_query + "#Ir1");

            let Vref = decode_value(Vref_in.value);
            let R1 = decode_value(R1_in.value);
            let R2 = decode_value(R2_in.value);
            let R12 = decode_value(R12_in.value);
            let R22 = decode_value(R22_in.value);
            let Vout = decode_value(Vout_in.value);
            let Ir1 = 0;
            if(R12 > 0) {
                R1 = 1 / ((1 / R1) + (1 / R12));
            }
            if(R22 > 0) {
                R2 = 1 / ((1 / R2) + (1 / R22));
            }

            if(Vref == null) {
                Vref_in.classList.add("error");
            } else {
                Vref_in.classList.remove("error");
            }
            if(R1 == null) {
                R1_in.classList.add("error");
            } else {
                R1_in.classList.remove("error");
            }
            if(R2 == null) {
                R2_in.classList.add("error");
            } else {
                R2_in.classList.remove("error");
            }
            if(Vout == null) {
                Vout_in.classList.add("error");
            } else {
                Vout_in.classList.remove("error");
            }

            Vref = Vout / (1 + (R1 / R2));
            Ir1 = Vout / (R1 + R2);

            Vref_out.value = encode_value(Vref);
            R1_out.value = encode_value(R1);
            R2_out.value = encode_value(R2);
            Vout_out.value = encode_value(Vout);
            Ir1_out.value = encode_value(Ir1);
        }

        function update() {
            addlog("update");
            calc_r2form();
            calc_r1form();
            calc_eroundform();
            calc_voutform();
            calc_vrefform();
        }
        
        function setup() {
            /*addlog("setup");*/
            update();
        }
        window.addEventListener("load", (event) => {
            setup();
        });
    </script>
    <link rel="stylesheet" type="text/css" href="reset.css">
    <style>
        body {
            font-family: Verdana, Roboto, "Droid Sans", "游ゴシック", YuGothic, "メイリオ", Meiryo, arial, sans-serif;
            margin: 1rem auto;
            max-width: 40rem;
            color: #222;
        }
        @media screen and (max-width: 44rem) {
            html {
                font-size: 2.27vw;
            }
        }

        h1 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        h1 .big {
            font-size: 2rem;
        }

        .title {
            text-shadow: 0.2rem 0.2rem 0.4rem #DDD;
        }

        img {
            max-width: 80%;
            height: auto;
        }

        .center{
            text-align: center;
        }
        sub {
            vertical-align: -25%;
            font-size: 0.9rem;
            margin-right: 0.2em;
        }

        h2 {
            font-weight: bold;
            font-size: 1.15rem;
            margin: 0.2rem;
        }
        H2 .big {
            font-size: 1.3rem;
            padding-bottom: 0.1rem;
            border-bottom: 0.15rem solid #CCC;
        }

        h3 {
            font-size: 1.1rem;
            margin-top: 0.5rem;
            margin-bottom: 0.5rem;
            padding-bottom: 0.2rem;
            border-bottom: 0.15rem solid #CCC;
        }

        .box {
            border: solid #888 0.1rem;
            width: calc(100% - 1rem);
            padding: 0.5rem;
            box-shadow: 0.5rem 0.5rem #CCC;
        }

        .small {
            padding: 0 0.1rem;
            font-size: 0.8rem;
        }

        form {
            display: table;
            margin-bottom: 1em;
        }
        div.block {
            display: table-cell;
            padding: 0 0.5rem;
        }
        div.inputblock {
            display: table-row;
        }

        label, input {
            display: table-cell;
            margin-left: 0.2rem;
            margin-bottom: 1rem;
        }
        label {
            width: 4rem;
        }
        
        input, select {
            width: 5rem;
            font-family: Menlo, "Osaka−等幅", "Osaka-mono", "ＭＳ ゴシック", monospace;
            font-size: 1rem;
            margin-right: 1rem;
            border-radius: 0.1rem;
            border: 0.1em solid #888;
            box-sizing: border-box;
        }
        input.error {
            background-color: #f002;
        }

        .disabled {
            opacity: 33%;
        }

        .log {
            height: 10rem;
            font-family: Menlo, "Osaka−等幅", "Osaka-mono", "ＭＳ ゴシック", monospace;
            overflow: scroll;
            margin: 0.5em 0;
        }

        .elist {
            word-break: keep-all;
        }

        .elist ul{
            margin-left: 1em;
            margin-top: 0.1em;
            font-family: Menlo, "Osaka−等幅", "Osaka-mono", "ＭＳ ゴシック", monospace;
            font-size: 1rem;
        }
        .elist li{
            margin: 0.5em 0;
            font-size: 1.2rem;
        }

    </style>
  </head>

  <body>
    <header>
        <center>
            <h1 class="title"><span class="big">FVDRC</span><br/>Feedback Voltage Divider Resistor Calculator</h1>
        </center>
    </header>
    <noscript>JavaScript is required to work</noscript>
    <center>
        <img src="figure.gif" width="300" height="180" async>
    </center>
    <form class="R2form box" onchange="update()">
        <div class="inputblock">
            <h2><span class="big">R2</span> from V<sub>Ref</sub>, R1 and V<sub>OUT</sub></h2>
        </div>
        
        <div class="block input">
            <h3>Inputs</h3>
            <div class="inputblock">
                <label>V<sub>Ref</sub></label>:
                <input type="text" name="Vref" id="Vref" inputmode="text" autocomplete required /></p>
            </div>
            <div class="inputblock">
                <label>R1</label>:
                <input type="text" name="R1" id="R1" inputmode="text" autocomplete required /></p>
                <label>R1<span class="small">.2</span></label>:
                <input type="text" name="R12" id="R12" inputmode="text" autocomplete required /></p>
            </div>
            <div class="inputblock disabled" aria-hidden="true">
                <label>R2</label>:
                <input type="text" name="R2" id="R2" placeholder="" readonly /></p>
                <label>R2<span class="small">.2</span></label>:
                <input type="text" name="R22" id="R22" placeholder="" readonly /></p>
            </div>
            <div class="inputblock">
                <label>V<sub>OUT</sub></label>:
                <input type="text" name="Vout" id="Vout" inputmode="text" autocomplete required /></p>
            </div>
            <div class="inputblock">
                <label>E series</label>:
                <select name="series" id="series" inputmode>
                    <option value="E3">E3</option>
                    <option value="E6">E6</option>
                    <option value="E12">E12</option>
                    <option value="E24">E24</option>
                    <option value="E48">E48</option>
                    <option value="E96">E96</option>
                    <option value="None" selected>None</option>
                </select>
            </div>
        </div>
        <div class="block output">
            <h3>Outputs</h3>
            <div class="inputblock disabled" aria-hidden="true">
                <label>V<sub>Ref</sub></label>:
                <input type="text" name="Vref" id="Vref" readonly /></p>
            </div>
            <div class="inputblock disabled" aria-hidden="true">
                <label>R1</label>:
                <input type="text" name="R1" id="R1" readonly /></p>
            </div>
            <div class="inputblock">
                <label>R2</label>:
                <input type="text" name="R2" id="R2" readonly /></p>
            </div>
            <div class="inputblock">
                <label>V<sub>OUT</sub></label>:
                <input type="text" name="Vout" id="Vout" readonly /></p>
            </div>
            <div class="inputblock">
                <label>I<sub>R1</sub></label>:
                <input type="text" name="Ir1" id="Ir1" readonly /></p>
            </div>
        </div>
        <div class="inputblock center">
            R2 = R1 / ((V<sub>OUT</sub> / V<sub>Ref</sub>) - 1);
        </div>
    </form>

    <form class="R1form box" onchange="update()">
        <div class="inputblock">
            <h2><span class="big">R1</span> from V<sub>Ref</sub>, R2 and V<sub>OUT</sub></h2>
        </div>
        
        <div class="block input">
            <h3>Inputs</h3>
            <div class="inputblock">
                <label>V<sub>Ref</sub></label>:
                <input type="text" name="Vref" id="Vref" inputmode="text" autocomplete required /></p>
            </div>
            <div class="inputblock disabled" aria-hidden="true">
                <label>R1</label>:
                <input type="text" name="R1" id="R1" inputmode="text" placeholder="" readonly /></p>
                <label>R1<span class="small">.2</span></label>:
                <input type="text" name="R12" id="R12" inputmode="text" placeholder="" readonly /></p>
            </div>
            <div class="inputblock">
                <label>R2</label>:
                <input type="text" name="R2" id="R2" autocomplete required /></p>
                <label>R2<span class="small">.2</span></label>:
                <input type="text" name="R22" id="R22" autocomplete required /></p>
            </div>
            <div class="inputblock">
                <label>V<sub>OUT</sub></label>:
                <input type="text" name="Vout" id="Vout" inputmode="text" autocomplete required /></p>
            </div>
            <div class="inputblock">
                <label>E series</label>:
                <select name="series" id="series" inputmode>
                    <option value="E3">E3</option>
                    <option value="E6">E6</option>
                    <option value="E12">E12</option>
                    <option value="E24">E24</option>
                    <option value="E48">E48</option>
                    <option value="E96">E96</option>
                    <option value="None" selected>None</option>
                </select>
            </div>
        </div>
        <div class="block output">
            <h3>Outputs</h3>
            <div class="inputblock disabled" aria-hidden="true">
                <label>V<sub>Ref</sub></label>:
                <input type="text" name="Vref" id="Vref" readonly /></p>
            </div>
            <div class="inputblock">
                <label>R1</label>:
                <input type="text" name="R1" id="R1" readonly /></p>
            </div>
            <div class="inputblock disabled" aria-hidden="true">
                <label>R2</label>:
                <input type="text" name="R2" id="R2" readonly /></p>
            </div>
            <div class="inputblock">
                <label>V<sub>OUT</sub></label>:
                <input type="text" name="Vout" id="Vout" readonly /></p>
            </div>
            <div class="inputblock">
                <label>I<sub>R1</sub></label>:
                <input type="text" name="Ir1" id="Ir1" readonly /></p>
            </div>
        </div>
        <div class="inputblock center">
            R1 = R2 * ((V<sub>OUT</sub> / V<sub>Ref</sub>) - 1)
        </div>
    </form>

    <form class="Eroundform box" onchange="update()">
        <div class="inputblock">
            <h2>Round to <span class="big">E series</span></h2>
        </div>
        
        <div class="block input">
            <h3>Inputs</h3>
            <div class="inputblock">
                <label>R1</label>:
                <input type="text" name="R1" id="R1" inputmode="text" autocomplete required /></p>
            </div>
            <div class="inputblock">
                <label>R2</label>:
                <input type="text" name="R2" id="R2" placeholder="" autocomplete required /></p>
            </div>
            <div class="inputblock">
                <label>E series</label>:
                <select name="series" id="series" inputmode>
                    <option value="E3">E3</option>
                    <option value="E6">E6</option>
                    <option value="E12">E12</option>
                    <option value="E24">E24</option>
                    <option value="E48">E48</option>
                    <option value="E96">E96</option>
                    <option value="None" selected>None</option>
                </select>
            </div>
    
        </div>
        <div class="block output">
            <h3>Outputs</h3>
            <div class="inputblock">
                <label>R1</label>:
                <input type="text" name="R1" id="R1" readonly /></p>
                <label>Error</label>:
                <input type="text" name="R1e" id="R1e" readonly />%</p>
            </div>
            <div class="inputblock">
                <label>R2</label>:
                <input type="text" name="R2" id="R2" readonly /></p>
                <label>Error</label>:
                <input type="text" name="R2e" id="R2e" readonly />%</p>
            </div>
        </div>
    </form>

    <form class="Voutform box" onchange="update()">
        <div class="inputblock">
            <h2><span class="big">V<sub>OUT</sub></span> from V<sub>Ref</sub>, R1 and R2</h2>
        </div>
        
        <div class="block input">
            <h3>Inputs</h3>
            <div class="inputblock">
                <label>V<sub>Ref</sub></label>:
                <input type="text" name="Vref" id="Vref" inputmode="text" autocomplete required /></p>
            </div>
            <div class="inputblock">
                <label>R1</label>:
                <input type="text" name="R1" id="R1" inputmode="text" autocomplete required /></p>
                <label>R1<span class="small">.2</span></label>:
                <input type="text" name="R12" id="R12" inputmode="text" autocomplete required /></p>
            </div>
            <div class="inputblock">
                <label>R2</label>:
                <input type="text" name="R2" id="R2" placeholder="" autocomplete required /></p>
                <label>R2<span class="small">.2</span></label>:
                <input type="text" name="R22" id="R22" placeholder="" autocomplete required /></p>
            </div>
            <div class="inputblock disabled" aria-hidden="true">
                <label>V<sub>OUT</sub></label>:
                <input type="text" name="Vout" id="Vout" inputmode="text" readonly /></p>
            </div>
        </div>
        <div class="block output">
            <h3>Outputs</h3>
            <div class="inputblock disabled" aria-hidden="true">
                <label>V<sub>Ref</sub></label>:
                <input type="text" name="Vref" id="Vref" readonly /></p>
            </div>
            <div class="inputblock disabled" aria-hidden="true">
                <label>R1</label>:
                <input type="text" name="R1" id="R1" readonly /></p>
            </div>
            <div class="inputblock disabled" aria-hidden="true">
                <label>R2</label>:
                <input type="text" name="R2" id="R2" readonly /></p>
            </div>
            <div class="inputblock">
                <label>V<sub>OUT</sub></label>:
                <input type="text" name="Vout" id="Vout" readonly /></p>
            </div>
            <div class="inputblock">
                <label>I<sub>R1</sub></label>:
                <input type="text" name="Ir1" id="Ir1" readonly /></p>
            </div>
        </div>
        <div class="inputblock center">
            V<sub>OUT</sub> = V<sub>Ref</sub> * (1 + (R1 / R2))
        </div>
    </form>

    <form class="Vrefform box" onchange="update()">
        <div class="inputblock">
            <h2><span class="big">V<sub>Ref</sub></span> from R1, R2 and V<sub>OUT</sub></h2>
        </div>
        
        <div class="block input">
            <h3>Inputs</h3>
            <div class="inputblock disabled" aria-hidden="true">
                <label>V<sub>Ref</sub></label>:
                <input type="text" name="Vref" id="Vref" inputmode="text" readonly /></p>
            </div>
            <div class="inputblock">
                <label>R1</label>:
                <input type="text" name="R1" id="R1" inputmode="text" autocomplete required /></p>
                <label>R1<span class="small">.2</span></label>:
                <input type="text" name="R12" id="R12" inputmode="text" autocomplete required /></p>
            </div>
            <div class="inputblock">
                <label>R2</label>:
                <input type="text" name="R2" id="R2" placeholder="" autocomplete required /></p>
                <label>R2<span class="small">.2</span></label>:
                <input type="text" name="R22" id="R22" placeholder="" autocomplete required /></p>
            </div>
            <div class="inputblock">
                <label>V<sub>OUT</sub></label>:
                <input type="text" name="Vout" id="Vout" inputmode="text" autocomplete required /></p>
            </div>
        </div>
        <div class="block output">
            <h3>Outputs</h3>
            <div class="inputblock">
                <label>V<sub>Ref</sub></label>:
                <input type="text" name="Vref" id="Vref" readonly /></p>
            </div>
            <div class="inputblock disabled" aria-hidden="true">
                <label>R1</label>:
                <input type="text" name="R1" id="R1" readonly /></p>
            </div>
            <div class="inputblock disabled" aria-hidden="true">
                <label>R2</label>:
                <input type="text" name="R2" id="R2" readonly /></p>
            </div>
            <div class="inputblock disabled" aria-hidden="true">
                <label>V<sub>OUT</sub></label>:
                <input type="text" name="Vout" id="Vout" readonly /></p>
            </div>
            <div class="inputblock">
                <label>I<sub>R1</sub></label>:
                <input type="text" name="Ir1" id="Ir1" readonly /></p>
            </div>
        </div>
        <div class="inputblock center">
            V<sub>Ref</sub> = V<sub>OUT</sub> / (1 + (R1 / R2))
        </div>
    </form>
    <br>
    <div class="elist box">
        <h2>List of E series</h2>
        <ul>
            <li>E3
                <ul>1, 2.2, 4.7</ul>
            </li>
            <li>E6
                <ul>1, 1.5, 2.2, 3.3, 4.7, 6.8</ul>
            </li>
            <li>E12
                <ul>1, 1.2, 1.5, 1.8, 2.2, 2.7, 3.3, 3.9, 4.7, 5.6, 6.8, 8.2</ul>
            </li>
            <li>E24
                <ul>1, 1.1, 1.2, 1.3, 1.5, 1.6, 1.8, 2, 2.2, 2.4, 2.7, 3, 3.3, 3.6, 3.9, 4.3, 4.7, 5.1, 5.6, 6.2, 6.8, 7.5, 8.2, 9.1</ul>
            </li>
            <li>E48
                <ul>1, 1.1, 1.21, 1.33, 1.47, 1.62, 1.78, 1.96, 2.15, 2.37, 2.61, 2.87, 3.16, 3.48, 3.83, 4.22, 4.64, 5.11, 5.62, 6.19, 6.81, 7.5, 8.25, 9.09, 1.05, 1.15, 1.27, 1.4, 1.54, 1.69, 1.87, 2.05, 2.26, 2.49, 2.74, 3.01, 3.32, 3.65, 4.02, 4.42, 4.87, 5.36, 5.9, 6.49, 7.15, 7.87, 8.66, 9.53</ul>
            </li>
            <li>E96
                <ul>1, 1.1, 1.21, 1.33, 1.47, 1.62, 1.78, 1.96, 2.15, 2.37, 2.61, 2.87, 3.16, 3.48, 3.83, 4.22, 4.64, 5.11, 5.62, 6.19, 6.81, 7.5, 8.25, 9.09, 1.02, 1.13, 1.24, 1.37, 1.5, 1.65, 1.82, 2, 2.21, 2.43, 2.67, 2.94, 3.24, 3.57, 3.92, 4.32, 4.75, 5.23, 5.76, 6.34, 6.98, 7.68, 8.45, 9.31, 1.05, 1.15, 1.27, 1.4, 1.54, 1.69, 1.87, 2.05, 2.26, 2.49, 2.74, 3.01, 3.32, 3.65, 4.02, 4.42, 4.87, 5.36, 5.9, 6.49, 7.15, 7.87, 8.66, 9.53, 1.07, 1.18, 1.3, 1.43, 1.58, 1.74, 1.91, 2.1, 2.32, 2.55, 2.8, 3.09, 3.4, 3.74, 4.12, 4.53, 4.99, 5.49, 6.04, 6.65, 7.32, 8.06, 8.87, 9.76</ul>
            </li>
        </ul>
    </div>
    <br>
    <p>Log:</p>
    <div class="log box">
    </div>
    <br>
    <p>Changelog:</p>
    <div class="log">
        20240415 release<br>
        20240416 support responsive<br>
        20240416 add Round to E series<br>
    </div>
    <center>created by kohanii</center>
  </body>
</html>
